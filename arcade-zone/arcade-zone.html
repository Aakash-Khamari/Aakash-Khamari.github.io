<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ARC-OS // NEXUS HUB</title>
    
    <!-- REACT ECOSYSTEM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- STYLING & MOTION -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- 3D ENGINE -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- TYPOGRAPHY -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700;800&family=Rajdhani:wght@500;600;700;800&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- TAILWIND CONFIG -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        mono: ['JetBrains Mono', 'monospace'],
                        display: ['Rajdhani', 'sans-serif'],
                        tech: ['Orbitron', 'sans-serif'],
                    },
                    colors: {
                        arcBlue: '#00f3ff',
                        arcPurple: '#bc13fe',
                        arcRed: '#ff0055',
                        arcGold: '#ffd700',
                        arcDark: '#050510',
                        arcGlass: 'rgba(10, 15, 30, 0.65)',
                    },
                    backgroundImage: {
                        'hex-pattern': "url('data:image/svg+xml,%3Csvg width=\"24\" height=\"40\" viewBox=\"0 0 24 40\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cpath d=\"M0 40c5.523 0 10-4.477 10-10V10C10 4.477 5.523 0 0 0h24c-5.523 0-10 4.477-10 10v20c0 5.523 4.477 10 10 10H0z\" fill=\"%2300f3ff\" fill-opacity=\"0.03\" fill-rule=\"evenodd\"/%3E%3C/svg%3E')",
                    },
                    animation: {
                        'scan': 'scan 4s linear infinite',
                        'blink': 'blink 1s step-end infinite',
                        'spin-slow': 'spin 10s linear infinite',
                    },
                    keyframes: {
                        scan: {
                            '0%': { transform: 'translateY(-100%)' },
                            '100%': { transform: 'translateY(100%)' }
                        },
                        blink: {
                            '0%, 100%': { opacity: 1 },
                            '50%': { opacity: 0 }
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        /* CORE RESETS */
        body, html {
            margin: 0; padding: 0;
            background-color: #020205;
            color: #ffffff;
            overflow: hidden; /* App handles scrolling */
            width: 100%; height: 100%;
            cursor: none; /* Hide default cursor entirely */
        }

        /* 3D CANVAS LAYER */
        #webgl-layer {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0; pointer-events: none;
        }

        /* UI LAYER */
        #root {
            position: relative; z-index: 10;
            width: 100%; height: 100%;
        }

        /* SCANLINE OVERLAY */
        .crt-overlay {
            position: fixed; inset: 0; z-index: 50;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
            background-size: 100% 3px, 3px 100%;
            pointer-events: none;
        }

        /* UTILITIES */
        .glass-panel {
            background: rgba(13, 17, 23, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .text-glow { text-shadow: 0 0 10px currentColor; }
        
        /* SCROLLBAR HIDING */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* SELECTION COLOR */
        ::selection { background: rgba(0, 243, 255, 0.3); color: white; }
    </style>
</head>
<body>

    <!-- 3D BACKGROUND MOUNT POINT -->
    <div id="webgl-layer"></div>

    <!-- REACT APP ROOT -->
    <div id="root"></div>

    <!-- REACT APPLICATION LOGIC -->
    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo, useCallback } = React;
        const { motion, AnimatePresence, useSpring, useMotionValue, useTransform } = window.Motion;

        // --- CONSTANTS & CONFIG ---
        const GAMES_DATA = [
            {
                id: 'stellar',
                title: 'STELLAR CAPTAIN',
                subtitle: 'OBSIDIAN PROTOCOL',
                type: 'IMMERSIVE SIM',
                desc: 'Neural-linked space combat. Pilot your starship using hand-tracking gestures. Survive the asteroid field.',
                specs: ['THREE.JS', 'MEDIAPIPE', 'WEBGL'],
                color: 'arcBlue',
                hex: '#00f3ff',
                status: 'ONLINE',
                link: 'stellar-captain/stellar-captain.html',
                icon: (
                    <svg className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                )
            },
            {
                id: 'enemy',
                title: 'YOU ARE THE ENEMY',
                subtitle: 'PERSPECTIVE INVERSION',
                type: 'META PLATFORMER',
                desc: 'The hero runs automatically. You control the environment. Spawn traps, crush hope, and stop the protagonist.',
                specs: ['REACT', 'AI LOGIC', 'PIXEL ART'],
                color: 'arcRed',
                hex: '#ff0055',
                status: 'AVAILABLE',
                link: 'you-are-the-enemy/you-are-the-enemy.html', 
                icon: (
                    <svg className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5">
                        <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/>
                        <path d="M15 9h.01M9 9h.01M12 16c-2.5 0-4-2-4-2s1.5-2 4-2 4 2 4 2-1.5 2-4 2z"/>
                        <path d="M9 7l-2-2M15 7l2-2"/>
                    </svg>
                )
            },
            {
                id: 'blockfall',
                title: 'BLOCKFALL',
                subtitle: 'ARCADE CLASSIC',
                type: 'PUZZLE ENGINE',
                desc: 'Pure, unadulterated block stacking. No gimmicks, just rhythm, reflexes, and the high score chase.',
                specs: ['CANVAS', 'RETRO', 'STATE MACHINE'],
                color: 'arcGold',
                hex: '#ffd700',
                status: 'AVAILABLE',
                link: 'blockfall/blockfall.html', 
                icon: (
                    <svg className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5">
                        <rect x="3" y="3" width="7" height="7" /><rect x="14" y="3" width="7" height="7" />
                        <rect x="14" y="14" width="7" height="7" /><rect x="3" y="14" width="7" height="7" />
                    </svg>
                )
            },
            {
                id: 'classified',
                title: 'PROJECT: CLASSIFIED',
                subtitle: 'ENCRYPTED SIGNAL',
                type: 'UNKNOWN',
                desc: 'Data stream corrupted. Decryption key required. Access restricted to Level 5 personnel only.',
                specs: ['LOCKED', '???', '???'],
                color: 'arcPurple',
                hex: '#bc13fe',
                status: 'LOCKED',
                link: null,
                icon: (
                    <svg className="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                        <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                    </svg>
                )
            }
        ];

        // --- AUDIO ENGINE ---
        // A robust sound manager that handles multiple channels
        class AudioController {
            constructor() {
                this.ctx = null;
                this.masterGain = null;
                this.initialized = false;
                this.sounds = {
                    hover: { freq: [400, 600], type: 'sine', dur: 0.05, vol: 0.05 },
                    click: { freq: [800, 1200], type: 'square', dur: 0.1, vol: 0.05 },
                    boot: { freq: [100, 50], type: 'sawtooth', dur: 0.5, vol: 0.1 },
                    error: { freq: [150, 100], type: 'sawtooth', dur: 0.2, vol: 0.1 }
                };
            }

            init() {
                if (this.initialized) return;
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                this.ctx = new AudioContext();
                this.masterGain = this.ctx.createGain();
                this.masterGain.gain.value = 0.3; // Master volume
                this.masterGain.connect(this.ctx.destination);
                this.initialized = true;
            }

            play(key) {
                if (!this.initialized || !this.sounds[key]) return;
                if (this.ctx.state === 'suspended') this.ctx.resume();

                const sound = this.sounds[key];
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();

                osc.type = sound.type;
                
                // Frequency Ramp
                osc.frequency.setValueAtTime(sound.freq[0], this.ctx.currentTime);
                if (sound.freq.length > 1) {
                    osc.frequency.exponentialRampToValueAtTime(sound.freq[1], this.ctx.currentTime + sound.dur);
                }

                // Volume Envelope
                gain.gain.setValueAtTime(sound.vol, this.ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + sound.dur);

                osc.connect(gain);
                gain.connect(this.masterGain);

                osc.start();
                osc.stop(this.ctx.currentTime + sound.dur);
            }
        }

        const SFX = new AudioController();


        // --- COMPONENT: 3D BACKGROUND (THREE.JS) ---
        // Renders a high-tech moving grid floor and particle starfield
        const CyberGrid = () => {
            const mountRef = useRef(null);

            useEffect(() => {
                const mount = document.getElementById('webgl-layer');
                if (!mount) return;

                // Scene Setup
                const scene = new THREE.Scene();
                // Add subtle fog to blend the horizon
                scene.fog = new THREE.FogExp2(0x020205, 0.002);

                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                // Position camera slightly above grid
                camera.position.set(0, 5, 20);

                const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                mount.appendChild(renderer.domElement);

                // --- THE GRID ---
                // We create a moving grid effect
                const gridSize = 200;
                const gridDivisions = 60;
                const gridHelper = new THREE.GridHelper(gridSize, gridDivisions, 0x00f3ff, 0x1a1a2e);
                // Adjust opacity of grid
                gridHelper.material.transparent = true;
                gridHelper.material.opacity = 0.15;
                scene.add(gridHelper);

                // Second Grid (Larger) for parallax
                const bigGrid = new THREE.GridHelper(gridSize * 2, gridDivisions / 2, 0xbc13fe, 0x050510);
                bigGrid.position.y = -10;
                bigGrid.material.transparent = true;
                bigGrid.material.opacity = 0.05;
                scene.add(bigGrid);

                // --- PARTICLES ---
                const particlesGeo = new THREE.BufferGeometry();
                const particlesCount = 800;
                const posArray = new Float32Array(particlesCount * 3);
                
                for(let i=0; i<particlesCount * 3; i++) {
                    posArray[i] = (Math.random() - 0.5) * 200;
                }
                
                particlesGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
                const particlesMat = new THREE.PointsMaterial({
                    size: 0.2,
                    color: 0xffffff,
                    transparent: true,
                    opacity: 0.8
                });
                const starField = new THREE.Points(particlesGeo, particlesMat);
                scene.add(starField);

                // --- ANIMATION LOOP ---
                let time = 0;
                const animate = () => {
                    requestAnimationFrame(animate);
                    time += 0.002;

                    // Infinite Forward Motion Illusion
                    gridHelper.position.z = (time * 100) % (gridSize / gridDivisions);
                    bigGrid.position.z = (time * 50) % ((gridSize * 2) / (gridDivisions / 2));

                    // Gentle Rotation
                    starField.rotation.y = time * 0.1;
                    
                    // Mouse Interaction (Subtle Camera Sway)
                    // We read mouse position from global CSS vars for performance
                    const mouseX = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--mouse-x') || 0);
                    const mouseY = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--mouse-y') || 0);
                    
                    camera.rotation.y = -mouseX * 0.1;
                    camera.rotation.x = mouseY * 0.05;

                    renderer.render(scene, camera);
                };
                animate();

                // Resize Handling
                const handleResize = () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                };
                window.addEventListener('resize', handleResize);

                return () => {
                    window.removeEventListener('resize', handleResize);
                    mount.innerHTML = ''; // Cleanup
                };
            }, []);

            return null; // Renders into portal
        };


        // --- COMPONENT: TACTICAL CURSOR ---
        // A custom SVG reticle that follows the mouse smoothly and snaps to targets
        const TacticalCursor = ({ hoverState }) => {
            const cursorRef = useRef(null);
            const [position, setPosition] = useState({ x: -100, y: -100 });
            const [isClicking, setIsClicking] = useState(false);

            // Lerp utility for smooth movement
            const lerp = (start, end, factor) => start + (end - start) * factor;
            
            // Refs for animation loop
            const targetPos = useRef({ x: window.innerWidth/2, y: window.innerHeight/2 });
            const currentPos = useRef({ x: window.innerWidth/2, y: window.innerHeight/2 });

            useEffect(() => {
                const onMouseMove = (e) => {
                    targetPos.current = { x: e.clientX, y: e.clientY };
                    // Update CSS vars for Three.js
                    const xNorm = (e.clientX / window.innerWidth) * 2 - 1;
                    const yNorm = -(e.clientY / window.innerHeight) * 2 + 1;
                    document.documentElement.style.setProperty('--mouse-x', xNorm);
                    document.documentElement.style.setProperty('--mouse-y', yNorm);
                };
                
                const onMouseDown = () => setIsClicking(true);
                const onMouseUp = () => setIsClicking(false);

                window.addEventListener('mousemove', onMouseMove);
                window.addEventListener('mousedown', onMouseDown);
                window.addEventListener('mouseup', onMouseUp);

                // Animation Loop for Smooth Cursor
                let rafId;
                const update = () => {
                    // Smooth Lerp (0.2 factor for responsiveness without jitter)
                    currentPos.current.x = lerp(currentPos.current.x, targetPos.current.x, 0.2);
                    currentPos.current.y = lerp(currentPos.current.y, targetPos.current.y, 0.2);
                    
                    setPosition({ x: currentPos.current.x, y: currentPos.current.y });
                    rafId = requestAnimationFrame(update);
                };
                update();

                return () => {
                    window.removeEventListener('mousemove', onMouseMove);
                    window.removeEventListener('mousedown', onMouseDown);
                    window.removeEventListener('mouseup', onMouseUp);
                    cancelAnimationFrame(rafId);
                };
            }, []);

            // Determine Cursor Color based on Hover State
            const getColor = () => {
                if (!hoverState) return '#00f3ff'; // Default Blue
                if (hoverState.type === 'game') {
                    if (hoverState.data.color === 'arcRed') return '#ff0055';
                    if (hoverState.data.color === 'arcGold') return '#ffd700';
                    if (hoverState.data.color === 'arcPurple') return '#bc13fe';
                }
                if (hoverState.type === 'locked') return '#555';
                return '#ffffff'; // Generic hover
            };

            const color = getColor();
            const size = isClicking ? 30 : (hoverState ? 60 : 40);

            return (
                <div 
                    className="fixed pointer-events-none z-[9999] mix-blend-screen"
                    style={{ 
                        left: position.x, 
                        top: position.y,
                        transform: 'translate(-50%, -50%)' 
                    }}
                >
                    {/* Main Reticle SVG */}
                    <svg 
                        width={size} 
                        height={size} 
                        viewBox="0 0 100 100" 
                        className={`transition-all duration-200 ease-out ${hoverState ? 'animate-spin-slow' : ''}`}
                    >
                        {/* Outer Ring segments */}
                        <path d="M 50 5 L 50 20 M 50 95 L 50 80 M 5 50 L 20 50 M 95 50 L 80 50" stroke={color} strokeWidth="4" strokeLinecap="round" />
                        <circle cx="50" cy="50" r="40" stroke={color} strokeWidth="2" fill="none" strokeDasharray="20 10" opacity="0.6" />
                        
                        {/* Center Dot */}
                        <circle cx="50" cy="50" r="4" fill={color} />
                        
                        {/* Hover Brackets */}
                        {hoverState && (
                            <>
                                <path d="M 20 20 L 30 20 L 20 30" fill="none" stroke={color} strokeWidth="3" />
                                <path d="M 80 20 L 70 20 L 80 30" fill="none" stroke={color} strokeWidth="3" />
                                <path d="M 20 80 L 30 80 L 20 70" fill="none" stroke={color} strokeWidth="3" />
                                <path d="M 80 80 L 70 80 L 80 70" fill="none" stroke={color} strokeWidth="3" />
                            </>
                        )}
                    </svg>

                    {/* Context Text Label next to cursor */}
                    {hoverState && (
                        <div 
                            className="absolute top-0 left-12 whitespace-nowrap bg-black/80 text-white text-[10px] font-mono px-2 py-1 border border-white/20 rounded-sm uppercase tracking-widest"
                            style={{ borderColor: color, color: color }}
                        >
                            {hoverState.label || 'INTERACT'}
                        </div>
                    )}
                </div>
            );
        };


        // --- COMPONENT: GAME CARD (HOLOGRAPHIC) ---
        const GameCard = ({ data, index, setHover, onClick }) => {
            const isLocked = data.status === 'LOCKED';
            
            const handleMouseEnter = () => {
                SFX.play('hover');
                setHover({ 
                    type: isLocked ? 'locked' : 'game', 
                    label: isLocked ? 'ENCRYPTED' : 'LAUNCH',
                    data: data 
                });
            };

            const handleClick = () => {
                if (isLocked) {
                    SFX.play('error');
                } else {
                    SFX.play('click');
                    onClick(data.link);
                }
            };

            // Color Map for dynamic classes
            const getBorderColor = () => {
                switch(data.color) {
                    case 'arcBlue': return 'hover:border-arcBlue hover:shadow-[0_0_30px_rgba(0,243,255,0.3)]';
                    case 'arcRed': return 'hover:border-arcRed hover:shadow-[0_0_30px_rgba(255,0,85,0.3)]';
                    case 'arcGold': return 'hover:border-arcGold hover:shadow-[0_0_30px_rgba(255,215,0,0.3)]';
                    case 'arcPurple': return 'hover:border-arcPurple hover:shadow-[0_0_30px_rgba(188,19,254,0.3)]';
                    default: return 'hover:border-white';
                }
            };

            const getTextColor = () => {
                switch(data.color) {
                    case 'arcBlue': return 'text-arcBlue';
                    case 'arcRed': return 'text-arcRed';
                    case 'arcGold': return 'text-arcGold';
                    case 'arcPurple': return 'text-arcPurple';
                    default: return 'text-white';
                }
            };

            return (
                <motion.div 
                    initial={{ opacity: 0, y: 50 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: index * 0.15, duration: 0.6, ease: "easeOut" }}
                    className={`
                        relative w-full h-[450px] glass-panel rounded-xl overflow-hidden
                        flex flex-col group transition-all duration-500
                        border-t-[1px] border-b-[1px] border-l-0 border-r-0
                        ${isLocked ? 'border-gray-800 opacity-60 grayscale' : `border-transparent ${getBorderColor()}`}
                    `}
                    onMouseEnter={handleMouseEnter}
                    onMouseLeave={() => setHover(null)}
                    onClick={handleClick}
                >
                    {/* Animated Gradient Background on Hover */}
                    <div 
                        className="absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-500"
                        style={{ background: `linear-gradient(to bottom, ${data.hex}, transparent)` }}
                    />

                    {/* Top Bar (Status) */}
                    <div className="flex justify-between items-center p-6 border-b border-white/5 relative z-10">
                        <div className="flex items-center gap-2">
                            <div className={`w-2 h-2 rounded-full ${isLocked ? 'bg-gray-500' : 'bg-green-500 animate-pulse'}`}></div>
                            <span className="font-mono text-[10px] tracking-widest opacity-70">
                                {isLocked ? 'OFFLINE' : 'ONLINE'}
                            </span>
                        </div>
                        <span className={`font-mono text-xs font-bold ${getTextColor()}`}>
                            {data.subtitle}
                        </span>
                    </div>

                    {/* Center Content (Icon & Title) */}
                    <div className="flex-grow flex flex-col items-center justify-center p-6 relative z-10">
                        <motion.div 
                            className="w-24 h-24 mb-6 text-white opacity-80 group-hover:scale-110 transition-transform duration-500"
                            style={{ color: data.hex }}
                        >
                            {data.icon}
                        </motion.div>
                        
                        <h3 className="text-3xl font-display font-black text-center leading-none tracking-tight group-hover:text-white transition-colors">
                            {data.title}
                        </h3>
                        
                        {/* Decorative Lines */}
                        <div className="w-full flex justify-center mt-4 gap-1 opacity-30">
                            <div className="w-1 h-1 bg-white rounded-full"></div>
                            <div className="w-10 h-1 bg-white rounded-full"></div>
                            <div className="w-1 h-1 bg-white rounded-full"></div>
                        </div>
                    </div>

                    {/* Bottom Content (Desc & Stats) */}
                    <div className="p-6 bg-black/40 backdrop-blur-sm border-t border-white/5 relative z-10 translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                        <p className={`font-mono text-xs leading-relaxed mb-4 line-clamp-2 ${isLocked ? 'text-gray-600 blur-[1px]' : 'text-gray-400'}`}>
                            {data.desc}
                        </p>
                        
                        <div className="flex flex-wrap gap-2 mb-4">
                            {data.specs.map(spec => (
                                <span key={spec} className="px-2 py-1 rounded-sm bg-white/5 border border-white/10 text-[9px] font-mono font-bold text-gray-500 group-hover:text-white group-hover:border-white/30 transition-colors">
                                    {spec}
                                </span>
                            ))}
                        </div>

                        <div className="flex items-center justify-between">
                            <span className="font-tech text-[10px] opacity-50">ID: {data.id.toUpperCase()}</span>
                            <div className={`px-3 py-1 rounded text-[10px] font-bold font-mono ${isLocked ? 'bg-gray-800 text-gray-500' : 'bg-white text-black'}`}>
                                {isLocked ? 'LOCKED' : 'INITIALIZE'}
                            </div>
                        </div>
                    </div>
                </motion.div>
            );
        };


        // --- COMPONENT: BOOT SEQUENCE ---
        const BootSequence = ({ onComplete }) => {
            const [text, setText] = useState([]);
            
            useEffect(() => {
                const logs = [
                    "INITIALIZING ARC-OS KERNEL...",
                    "LOADING NEURAL INTERFACES...",
                    "CONNECTING TO HOST: AAKASH KHAMARI...",
                    "MOUNTING 3D ENVIRONMENT...",
                    "ACCESS GRANTED."
                ];
                
                let delay = 0;
                logs.forEach((log, i) => {
                    delay += Math.random() * 500 + 200;
                    setTimeout(() => {
                        SFX.play('hover'); // Typing sound
                        setText(prev => [...prev, log]);
                        if (i === logs.length - 1) {
                            setTimeout(onComplete, 800);
                        }
                    }, delay);
                });
            }, []);

            return (
                <motion.div 
                    className="fixed inset-0 z-[100] bg-black flex items-center justify-center font-mono text-arcBlue text-sm p-8"
                    exit={{ opacity: 0, scale: 1.1, filter: "blur(10px)" }}
                    transition={{ duration: 0.8 }}
                >
                    <div className="w-full max-w-md">
                        {text.map((t, i) => (
                            <div key={i} className="mb-1 border-l-2 border-arcBlue pl-2 animate-blink-once">
                                <span className="opacity-50">[{new Date().toLocaleTimeString()}]</span> {t}
                            </div>
                        ))}
                        <div className="w-4 h-6 bg-arcBlue animate-blink inline-block ml-2 align-middle"></div>
                    </div>
                </motion.div>
            );
        };


        // --- MAIN APP: ARC-OS SHELL ---
        const ArcOS = () => {
            const [booted, setBooted] = useState(false);
            const [hoverState, setHoverState] = useState(null);
            
            // Handle Navigation
            const navigate = (url) => {
                if (url) window.location.href = url;
            };

            // Initial Audio Context Resume
            useEffect(() => {
                const unlockAudio = () => {
                    SFX.init();
                    window.removeEventListener('click', unlockAudio);
                };
                window.addEventListener('click', unlockAudio);
                return () => window.removeEventListener('click', unlockAudio);
            }, []);

            return (
                <div className="relative w-full h-full">
                    {/* Backgrounds */}
                    <CyberGrid />
                    <div className="crt-overlay"></div>

                    {/* Cursor */}
                    <TacticalCursor hoverState={hoverState} />

                    {/* BOOT SEQUENCE */}
                    <AnimatePresence>
                        {!booted && <BootSequence onComplete={() => setBooted(true)} />}
                    </AnimatePresence>

                    {/* MAIN INTERFACE */}
                    <AnimatePresence>
                        {booted && (
                            <motion.div 
                                initial={{ opacity: 0 }}
                                animate={{ opacity: 1 }}
                                className="relative z-10 flex flex-col min-h-screen"
                            >
                                {/* HEADER / HUD */}
                                <header className="fixed top-0 left-0 w-full z-40 p-6 flex justify-between items-start pointer-events-none">
                                    <div className="pointer-events-auto flex items-center gap-4">
                                        <a 
                                            href="../index.html" 
                                            className="group flex items-center gap-4"
                                            onMouseEnter={() => { SFX.play('hover'); setHoverState({ type: 'nav', label: 'EXIT SYSTEM' }) }}
                                            onMouseLeave={() => setHoverState(null)}
                                        >
                                            <div className="w-12 h-12 glass-panel rounded-lg flex items-center justify-center text-arcBlue group-hover:bg-arcBlue group-hover:text-black transition-all duration-300">
                                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
                                            </div>
                                            <div className="flex flex-col">
                                                <h1 className="font-display font-black text-2xl tracking-wider text-white">ARCADE ZONE</h1>
                                                <span className="font-mono text-[10px] text-arcBlue tracking-[0.2em] group-hover:text-white transition-colors">RETURN TO NEXUS</span>
                                            </div>
                                        </a>
                                    </div>

                                    <div className="hidden md:flex flex-col items-end">
                                        <div className="glass-panel px-4 py-1 rounded-full flex items-center gap-2 mb-2">
                                            <div className="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                            <span className="font-mono text-[10px] text-green-400">SYS.ONLINE</span>
                                        </div>
                                        <div className="text-right opacity-60">
                                            <div className="font-tech text-xs tracking-widest text-white">CPU: 12% // RAM: 45%</div>
                                            <div className="font-mono text-[10px] text-arcBlue">SECURE CONNECTION</div>
                                        </div>
                                    </div>
                                </header>

                                {/* CONTENT AREA */}
                                <main className="flex-grow flex items-center justify-center p-6 md:p-20 pt-32">
                                    <div className="w-full max-w-7xl grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8">
                                        {GAMES_DATA.map((game, idx) => (
                                            <GameCard 
                                                key={game.id}
                                                data={game}
                                                index={idx}
                                                setHover={setHoverState}
                                                onClick={navigate}
                                            />
                                        ))}
                                    </div>
                                </main>

                                {/* FOOTER / STATUS BAR */}
                                <footer className="fixed bottom-0 left-0 w-full z-40 p-4 border-t border-white/5 bg-black/80 backdrop-blur-md flex justify-between items-center text-[10px] font-mono text-gray-500">
                                    <div className="flex gap-4">
                                        <span>USER: GUEST</span>
                                        <span>LOC: UNKNOWN</span>
                                    </div>
                                    <div className="flex gap-4">
                                        <span className="text-arcBlue">REACT v18.2</span>
                                        <span className="text-arcPurple">THREE.JS r128</span>
                                        <span className="text-arcGold">FRAMER MOTION</span>
                                    </div>
                                    <div>
                                        DESIGNED BY AAKASH KHAMARI
                                    </div>
                                </footer>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ArcOS />);
    </script>
</body>
</html>